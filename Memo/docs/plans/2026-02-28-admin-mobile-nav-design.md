# 管理画面モバイルナビ改善 設計書

**日付**: 2026-02-28
**対象**: `templates/admin/base.j2`, `static/css/style.css`

## 目的

スマホ表示時に管理画面のヘッダーが潰れる問題と、サイドメニューにアクセスできない問題を解消する。

## 受入条件

- スマホ表示時のナビバーにポイント・制限時間・ユーザーサムネイルのみ表示（潰れない）
- 三本線アイコンをタップで左からオフキャンバスメニューが開く
- オフキャンバス内に全サイドメニュー＋マイページ・ログアウトリンクを含む
- PC（768px以上）では現状通りサイドバー表示、ナビバーにマイページ・ログアウトボタン表示

## 非目標

- PC時のレイアウト変更なし
- アニメーション・テーマの変更なし

## 実装詳細

### ナビバー（モバイル）

```
[ ≡ ]  管理者専用   [ ⚡24pt | ⏱12h ]  🧑
```

- 三本線（`fa fa-bars`）: `d-md-none`、オフキャンバストリガー
- ポイント+時間ブロック: 現状維持（常時表示）
- ユーザーサムネイル: 常時表示（丸アイコンのみ、名前は `d-none d-md-inline`）
- マイページ・ログアウトボタン: `d-none d-md-flex` でPC時のみ表示

### オフキャンバス（スマホ専用）

- Bootstrap `offcanvas offcanvas-start` 使用
- `d-md-none` クラスでタブレット以上では非表示
- 上部: ユーザー名 + マイページ・ログアウトリンク
- 下部: `{% include 'admin/sidemenu.j2' %}` で再利用

### 影響ファイル

| ファイル | 変更内容 |
|---------|---------|
| `templates/admin/base.j2` | ナビバー調整 + オフキャンバスHTML追加 |
| `static/css/style.css` | 最小限のスマホ用スタイル調整 |

## ロールバック

git で差分管理されているため、`git revert` で即時復元可能。
