{% extends "base.j2" %}
{% block page_title %}{{ memo.title }} | {{ SITE_NAME }}{% endblock %}
{% block content %}
<style>
    .article-img {
        height: 300px;
        background-image: url("{{ url_for('static', filename='images/memo/' ~  (memo.image_filename if memo.image_filename else 'nofile.jpg')) }}");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        filter: grayscale(100%);
    }
</style>
    <div class="mb-4 rounded text-body-emphasis bg-body-secondary article-img"></div>
    <div class="row">
        <div class="col-md-9 public">
            <h1 class="display-4 my-3 pb-4 border-bottom">{{ memo.title }}</h1>
            <p><i class="fa fa-user"></i>投稿者: {{ memo.user.username }}<span class="px-2">|</span> <i class="fa fa-calendar"></i>投稿日時: {{ memo.created_at.strftime("%Y-%m-%d %H:%M") }}<span class="px-2">|</span> ❤️ {{ like_count }} いいね</p>
            <p class="markdown-body">
                {{ memo.content | markdown | safe }}
            </p>
            <nav class="navbar bg-body-secondary my-5 rounded-3">
                <div class="container-fluid d-none d-md-flex justify-content-start my-2 mx-2">
                    <a class="btn btn-secondary btn-lg text-dark flex-fill fade-in fade-delay-4 me-md-2" data-action="scrollTop"><i class="fa fa-arrow-up"></i> ページの最上部に戻る</a>
                    <a class="btn btn-outline-secondary btn-lg fade-in fade-delay-8 me-md-2" href="#" data-action="back"><i class="fa fa-arrow-left"></i> 直前のページに戻る</a>
                    <a class="btn btn-outline-secondary btn-lg fade-in fade-delay-12" href="{{ url_for('public.public_index') }}"><i class="fa fa-reply"></i> トップの一覧に戻る</a>
                </div>
                <div class="container-fluid d-md-none d-flex justify-content-start my-2 mx-2">
                    <a class="btn btn-secondary btn-lg text-dark flex-fill fade-in fade-delay-4" data-action="scrollTop"><i class="fa fa-arrow-up"></i> ページの最上部に戻る</a>
                    <a class="btn btn-outline-secondary btn-lg fade-in fade-delay-8 mt-2 w-100 d-block" href="#" data-action="back"><i class="fa fa-arrow-left"></i> 直前のページに戻る</a>
                    <a class="btn btn-outline-secondary btn-lg fade-in fade-delay-12 mt-2 w-100 d-block" href="{{ url_for('public.public_index') }}"><i class="fa fa-reply"></i> トップの一覧に戻る</a>
                </div>
            </nav>
        </div>
        {% include "public/aside.j2" %}
    </div>
{% endblock %}
