{% extends "fixed/base.j2" %}

{% block article_body %}
<h2><i class="fa fa-cubes"></i>ç’°å¢ƒå¤‰æ•°</h2>
<code>SECRET_KEY</code>ãŒå«ã¾ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯Githubã«ä¸Šã’ã‚ˆã†ã¨ã—ãŸæ™‚ç‚¹ã§<code>Secret Scanning</code>ãŒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®è¦³ç‚¹ä¸Šã‚¨ãƒ©ãƒ¼ã¨ã™ã‚‹ãŸã‚ã€è‡ªå‹•ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãªã„ã‚ˆã†ã«.gitignoreã§é™¤å¤–ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ã€‚
<pre class="file-tag" data-tag="console"><code>mkdir -p dot_env &amp;&amp; 
t dot_env/.env dot_env/.gitignore dot_env/app.py dot_env/extensions.py &amp;&amp; \
cd dot_env &amp;&amp; pi python-dotenv

[ dot_env ]
   â”œâ”€ ğŸ“„.env          # ç’°å¢ƒå¤‰æ•°
   â”œâ”€ ğŸ“„.gitignore    # gitã®é™¤å¤–ãƒ•ã‚¡ã‚¤ãƒ«
   â”œâ”€ ğŸ“„app.py
   â””â”€ ğŸ“„extensions.py # ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿è¾¼ã‚€</code></pre>
<code>**/**/</code>ã¯å­å­«éšå±¤ã«ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å…¨ã¦é©ç”¨ã™ã‚‹ã€‚
<pre class="file-tag" data-tag=".gitignore"><code>**/**/__pycache__
**/**/instance
**/**/.env</code></pre>
<pre class="file-tag" data-tag=".env"><code>FLASK_ENV=development # é–‹ç™ºç’°å¢ƒ
FLASK_DEBUG=1 # ãƒ‡ãƒãƒƒã‚°
SECRET_KEY=dev-secret-key # ã‚»ãƒƒã‚·ãƒ§ãƒ³ãªã©ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼
STRIPE_SECRET_KEY=sk_test_... # ã‚¹ãƒˆãƒ©ã‚¤ãƒ—ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼
STRIPE_WEBHOOK_SECRET=whsec_.. # Webhookã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼</code></pre>
<pre class="file-tag" data-tag="app.py"><code>from flask import Flask
from dotenv import load_dotenv
import os

load_dotenv()

def create_app():
    app = Flask(__name__)
    app.config[&quot;SECRET_KEY&quot;] = os.environ[&quot;SECRET_KEY&quot;]
    app.config[&quot;STRIPE_SECRET_KEY&quot;] = os.environ[&quot;STRIPE_SECRET_KEY&quot;]
    return app</code></pre>
{% endblock %}
